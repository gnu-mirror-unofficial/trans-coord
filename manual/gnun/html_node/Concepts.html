<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- 
This manual (updated 25 December 2014) is for GNUnited Nations (version
0.9), a suite for maintaining translations of www.gnu.org
essays and other articles.


Copyright (C) 2008, 2009, 2010, 2011, 2012, 2013, 2014 Free
Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.  A
copy of the license is included in the section entitled "GNU Free
Documentation License." -->
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->
<head>
<title>GNUnited Nations: Concepts</title>

<meta name="description" content="GNUnited Nations: Concepts">
<meta name="keywords" content="GNUnited Nations: Concepts">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#Top" rel="start" title="Top">
<link href="Index.html#Index" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Introduction.html#Introduction" rel="up" title="Introduction">
<link href="Advantages.html#Advantages" rel="next" title="Advantages">
<link href="Overview.html#Overview" rel="prev" title="Overview">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.indentedblock {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
div.smalllisp {margin-left: 3.2em}
kbd {font-style:oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nocodebreak {white-space:nowrap}
span.nolinebreak {white-space:nowrap}
span.roman {font-family:serif; font-weight:normal}
span.sansserif {font-family:sans-serif; font-weight:normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">
<a name="Concepts"></a>
<div class="header">
<p>
Next: <a href="Advantages.html#Advantages" accesskey="n" rel="next">Advantages</a>, Previous: <a href="Overview.html#Overview" accesskey="p" rel="prev">Overview</a>, Up: <a href="Introduction.html#Introduction" accesskey="u" rel="up">Introduction</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html#Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="What-GNUnited-Nations-Is-and-Should-Be"></a>
<h3 class="section">1.2 What GNUnited Nations Is and Should Be</h3>

<a name="index-POT"></a>
<p>The basic concept behind GNUN is that localization of HTML articles is
similar to localization of computer programs<a name="DOCF1" href="#FOOT1"><sup>1</sup></a>.  In articles, like in programs, not every string is considered
translatable, so translatable strings must be identified first, and then
collected in a file (called &ldquo;PO template&rdquo;) for translation.  Articles,
like programs, tend to change over time, but not every change in the
sources calls for a translation update.  Sometimes the change does not
affect the translatable strings, but sometimes it does.  So, translators
must have means to identify those changes and apply the appropriate
updates to the translation.
</p>
<p>The GNU <code>gettext</code> package already provides the needed
infrastructure for maintaining translations using PO files.
See <a href="http://www.gnu.org/software/gettext/manual/html_node/Introduction.html#Introduction">Introduction</a> in <cite>GNU gettext tools</cite>,
for a basic overview.
GNUnited Nations fills the gaps to apply this infrastructure to articles
in the <a href="https://www.gnu.org">https://www.gnu.org</a> web site.<a name="DOCF2" href="#FOOT2"><sup>2</sup></a>
</p>
<p>The following diagram summarizes the relation between the files handled
by GNUN.  It is followed by somewhat detailed explanations, which you
should read while keeping an eye on the diagram.  Having a clear
understanding of these interrelations will surely help translators and
web maintainers.
</p>
<div class="example">
<pre class="example">.---&lt;--- * Original ARTICLE.html
|
|   .---&gt; ARTICLE.pot ---&gt; * ARTICLE.LANG.po ---&gt;---.
`---+                                               |
    `---&gt;---.   .------&lt;----------------------------'
            |   |
            |   `---.
            |       +---&gt; Translated ARTICLE.LANG.html
            `-------'
</pre></div>

<p>The indication &lsquo;<samp>*</samp>&rsquo; appears in two places in this picture, and means
that the corresponding file is intended to be edited by humans.  The
author or web maintainer edits the original <samp><var>article</var>.html</samp>,
and translators edit <samp><var>article</var>.<var>lang</var>.po</samp>.  All other
files are regenerated by GNUN and any manual changes on them will be
lost on the next run.
</p>
<p>Arrows denote dependency relation between files, where a change in one
file will affect the other.  Those automatic changes will be applied by
running &lsquo;<samp>make -C server/gnun</samp>&rsquo;.  This is the primary way to invoke
GNUN, since it is implemented as a set of recipes for GNU <code>make</code>.
</p>
<p>First, GNUN extracts all translatable strings from the original English
article <samp><var>article</var>.html</samp> into
<samp><var>article</var>.pot</samp><a name="DOCF3" href="#FOOT3"><sup>3</sup></a>.  The
resulting file is suitable for manipulation with the various GNU
&lsquo;<samp>gettext</samp>&rsquo; utilities.  It contains all original article strings and
all translations are set to empty.  The letter <code>t</code> in <samp>.pot</samp>
marks this as a Template PO file, not yet oriented towards any
particular language.
</p>
<p>On the first run, though, there is no <samp><var>article</var>.<var>lang</var>.po</samp>
yet, so a translator must create <samp><var>article</var>.<var>lang</var>.po</samp> from
<samp><var>article</var>.pot</samp>, where <var>lang</var> represents the
target language.  See <a href="New-Translation.html#New-Translation">New Translation</a>, for details.
</p>
<p>Then comes the initial translation of messages in
<samp><var>article</var>.<var>lang</var>.po</samp>.  Translation in itself is a whole
matter, whose complexity far overwhelms the level of this manual.
Nevertheless, a few hints are given in another chapter of this
manual.
</p>
<p>It is possible to make GNUN get translations for common strings from
dedicated PO files, the so-called compendia.  See <a href="Compendia.html#Compendia">Compendia</a>, for more
information.
</p>
<p>You may use any compatible PO editor to add translated messages into
the PO file.  See <a href="http://www.gnu.org/software/gettext/manual/html_node/Editing.html#Editing">Editing</a> in <cite>GNU gettext tools</cite>,
for more information.
</p>
<p>When the PO file actually exists (hopefully populated with initial
translations), GNUN generates <samp><var>article</var>.<var>lang</var>.html</samp> file.
It takes its structure from the original <samp><var>article</var>.html</samp>, but
all translatable strings are replaced with the translations specified
in <samp><var>article</var>.<var>lang</var>.po</samp>.
</p>
<p>Original articles sometimes change.  A new paragraph is being added or a
tiny change in the wording is introduced.  Also, some articles are
dynamic in nature, like the ones containing news entries or a list of other
articles.  If the original article changes, GNUN will automatically
rebuild <samp><var>article</var>.pot</samp>, and will merge the changes into
<samp><var>article</var>.<var>lang</var>.po</samp>.  Any outdated translations will be
marked as &ldquo;fuzzy,&rdquo; any new strings will be added with empty translations,
waiting to be translated.  In the same run
<samp><var>article</var>.<var>lang</var>.html</samp> will be rebuilt, and consequently the relevant
strings in the translation will be substituted with the original English
text until the translation teams update them in
<samp><var>article</var>.<var>lang</var>.po</samp>.
</p>
<p>Those changes in the original article that do not affect the
translatable strings (or just delete whole strings) will not lead
to new untranslated or &ldquo;fuzzy&rdquo; strings in
<samp><var>article</var>.<var>lang</var>.po</samp>.  Thus, no actions from translators
will be needed.  <samp><var>article</var>.<var>lang</var>.html</samp> will be
automatically regenerated to reflect the changes.
</p>
<p>The POT for every article under GNUN&rsquo;s control is kept in the &lsquo;www&rsquo;
repository under a special sub-directory <samp>po/</samp> of the relevant
directory in the &lsquo;www&rsquo; tree.  Thus, for
&lsquo;<code>http://www.gnu.org/philosophy/free-sw.html</code>&rsquo; this
sub-directory is <samp>philosophy/po/</samp>.  In addition to
<samp>free-sw.pot</samp>, this directory holds the canonical source of every
translation, such as <samp>free-sw.bg.po</samp>, <samp>free-sw.ca.po</samp>, etc.
For more details, see <a href="Files-and-Directories.html#Files-and-Directories">Files and Directories</a>.
</p>
<p>Several additional features are implemented, like automatic update of
the list of the available translations.  For example, if a new
<samp>free-sw.ja.po</samp> translation is added, the list of translations
included in <samp>free-sw.html</samp> and all translated
<samp>free-sw.<var>lang</var>.html</samp> is updated.  This saves a lot of
tedious, repetitive work and eliminates a source of mistakes.  There
is a basic infrastructure to &ldquo;inject&rdquo; general information about a
translation team&mdash;like a note on how to contact the team, or how to
report a bug/suggestion for improvement.  Translators&rsquo; credits are
also handled, as well as translators&rsquo; notes, if any.
</p>
<div class="footnote">
<hr>
<h4 class="footnotes-heading">Footnotes</h4>

<h3><a name="FOOT1" href="#DOCF1">(1)</a></h3>
<p>Actually, it is
a lot closer to localization of software documentation, where
typically strings (also known as &ldquo;messages&rdquo; in gettext&rsquo;s context) are
longer than strings in programs.  Nevertheless, all points raised still
apply.</p>
<h3><a name="FOOT2" href="#DOCF2">(2)</a></h3>
<p>The process of converting
HTML to PO and the other way around is performed using po4a (&ldquo;PO for
anything&rdquo;), see <a href="http://po4a.alioth.debian.org">PO4A website</a>.</p>
<h3><a name="FOOT3" href="#DOCF3">(3)</a></h3>
<p>A special group of templates, so
called optional templates, have names like
<samp><var>article</var>.pot.opt</samp>.  The PO file for them is still
<samp><var>article</var>.<var>lang</var>.po</samp>.  See <a href="Main-Variables.html#optional_002dtemplates">optional-templates</a>.</p>
</div>
<hr>
<div class="header">
<p>
Next: <a href="Advantages.html#Advantages" accesskey="n" rel="next">Advantages</a>, Previous: <a href="Overview.html#Overview" accesskey="p" rel="prev">Overview</a>, Up: <a href="Introduction.html#Introduction" accesskey="u" rel="up">Introduction</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html#Index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
