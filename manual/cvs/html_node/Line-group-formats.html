<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->
<head>
<title>CVS&mdash;Concurrent Versions System v1.11.23: Line group formats</title>

<meta name="description" content="CVS&mdash;Concurrent Versions System v1.11.23: Line group formats">
<meta name="keywords" content="CVS&mdash;Concurrent Versions System v1.11.23: Line group formats">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#Top" rel="start" title="Top">
<link href="Index.html#Index" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="diff-options.html#diff-options" rel="up" title="diff options">
<link href="Line-formats.html#Line-formats" rel="next" title="Line formats">
<link href="diff-options.html#diff-options" rel="prev" title="diff options">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.indentedblock {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
div.smalllisp {margin-left: 3.2em}
kbd {font-style:oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nocodebreak {white-space:nowrap}
span.nolinebreak {white-space:nowrap}
span.roman {font-family:serif; font-weight:normal}
span.sansserif {font-family:sans-serif; font-weight:normal}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="/software/gnulib/manual.css">


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">
<a name="Line-group-formats"></a>
<div class="header">
<p>
Next: <a href="Line-formats.html#Line-formats" accesskey="n" rel="next">Line formats</a>, Up: <a href="diff-options.html#diff-options" accesskey="u" rel="up">diff options</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html#Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="Line-group-formats-1"></a>
<h4 class="appendixsubsubsec">A.11.1.1 Line group formats</h4>

<p>Line group formats let you specify formats suitable for many
applications that allow if-then-else input, including programming
languages and text formatting languages.  A line group format specifies
the output format for a contiguous group of similar lines.
</p>
<p>For example, the following command compares the TeX file <samp>myfile</samp>
with the original version from the repository,
and outputs a merged file in which old regions are
surrounded by &lsquo;<samp>\begin{em}</samp>&rsquo;-&lsquo;<samp>\end{em}</samp>&rsquo; lines, and new
regions are surrounded by &lsquo;<samp>\begin{bf}</samp>&rsquo;-&lsquo;<samp>\end{bf}</samp>&rsquo; lines.
</p>
<div class="example">
<pre class="example">cvs diff \
   --old-group-format='\begin{em}
%&lt;\end{em}
' \
   --new-group-format='\begin{bf}
%&gt;\end{bf}
' \
   myfile
</pre></div>

<p>The following command is equivalent to the above example, but it is a
little more verbose, because it spells out the default line group formats.
</p>
<div class="example">
<pre class="example">cvs diff \
   --old-group-format='\begin{em}
%&lt;\end{em}
' \
   --new-group-format='\begin{bf}
%&gt;\end{bf}
' \
   --unchanged-group-format='%=' \
   --changed-group-format='\begin{em}
%&lt;\end{em}
\begin{bf}
%&gt;\end{bf}
' \
   myfile
</pre></div>

<p>Here is a more advanced example, which outputs a diff listing with
headers containing line numbers in a &ldquo;plain English&rdquo; style.
</p>
<div class="example">
<pre class="example">cvs diff \
   --unchanged-group-format='' \
   --old-group-format='-------- %dn line%(n=1?:s) deleted at %df:
%&lt;' \
   --new-group-format='-------- %dN line%(N=1?:s) added after %de:
%&gt;' \
   --changed-group-format='-------- %dn line%(n=1?:s) changed at %df:
%&lt;-------- to:
%&gt;' \
   myfile
</pre></div>

<p>To specify a line group format, use one of the options
listed below.  You can specify up to four line group formats, one for
each kind of line group.  You should quote <var>format</var>, because it
typically contains shell metacharacters.
</p>
<dl compact="compact">
<dt>&lsquo;<samp>--old-group-format=<var>format</var></samp>&rsquo;</dt>
<dd><p>These line groups are hunks containing only lines from the first file.
The default old group format is the same as the changed group format if
it is specified; otherwise it is a format that outputs the line group as-is.
</p>
</dd>
<dt>&lsquo;<samp>--new-group-format=<var>format</var></samp>&rsquo;</dt>
<dd><p>These line groups are hunks containing only lines from the second
file.  The default new group format is same as the changed group
format if it is specified; otherwise it is a format that outputs the
line group as-is.
</p>
</dd>
<dt>&lsquo;<samp>--changed-group-format=<var>format</var></samp>&rsquo;</dt>
<dd><p>These line groups are hunks containing lines from both files.  The
default changed group format is the concatenation of the old and new
group formats.
</p>
</dd>
<dt>&lsquo;<samp>--unchanged-group-format=<var>format</var></samp>&rsquo;</dt>
<dd><p>These line groups contain lines common to both files.  The default
unchanged group format is a format that outputs the line group as-is.
</p></dd>
</dl>

<p>In a line group format, ordinary characters represent themselves;
conversion specifications start with &lsquo;<samp>%</samp>&rsquo; and have one of the
following forms.
</p>
<dl compact="compact">
<dt>&lsquo;<samp>%&lt;</samp>&rsquo;</dt>
<dd><p>stands for the lines from the first file, including the trailing newline.
Each line is formatted according to the old line format (see <a href="Line-formats.html#Line-formats">Line formats</a>).
</p>
</dd>
<dt>&lsquo;<samp>%&gt;</samp>&rsquo;</dt>
<dd><p>stands for the lines from the second file, including the trailing newline.
Each line is formatted according to the new line format.
</p>
</dd>
<dt>&lsquo;<samp>%=</samp>&rsquo;</dt>
<dd><p>stands for the lines common to both files, including the trailing newline.
Each line is formatted according to the unchanged line format.
</p>
</dd>
<dt>&lsquo;<samp>%%</samp>&rsquo;</dt>
<dd><p>stands for &lsquo;<samp>%</samp>&rsquo;.
</p>
</dd>
<dt>&lsquo;<samp>%c'<var>C</var>'</samp>&rsquo;</dt>
<dd><p>where <var>C</var> is a single character, stands for <var>C</var>.
<var>C</var> may not be a backslash or an apostrophe.
For example, &lsquo;<samp>%c':'</samp>&rsquo; stands for a colon, even inside
the then-part of an if-then-else format, which a colon would
normally terminate.
</p>
</dd>
<dt>&lsquo;<samp>%c'\<var>O</var>'</samp>&rsquo;</dt>
<dd><p>where <var>O</var> is a string of 1, 2, or 3 octal digits,
stands for the character with octal code <var>O</var>.
For example, &lsquo;<samp>%c'\0'</samp>&rsquo; stands for a null character.
</p>
</dd>
<dt>&lsquo;<samp><var>F</var><var>n</var></samp>&rsquo;</dt>
<dd><p>where <var>F</var> is a <code>printf</code> conversion specification and <var>n</var> is one
of the following letters, stands for <var>n</var>&rsquo;s value formatted with <var>F</var>.
</p>
<dl compact="compact">
<dt>&lsquo;<samp>e</samp>&rsquo;</dt>
<dd><p>The line number of the line just before the group in the old file.
</p>
</dd>
<dt>&lsquo;<samp>f</samp>&rsquo;</dt>
<dd><p>The line number of the first line in the group in the old file;
equals <var>e</var> + 1.
</p>
</dd>
<dt>&lsquo;<samp>l</samp>&rsquo;</dt>
<dd><p>The line number of the last line in the group in the old file.
</p>
</dd>
<dt>&lsquo;<samp>m</samp>&rsquo;</dt>
<dd><p>The line number of the line just after the group in the old file;
equals <var>l</var> + 1.
</p>
</dd>
<dt>&lsquo;<samp>n</samp>&rsquo;</dt>
<dd><p>The number of lines in the group in the old file; equals <var>l</var> - <var>f</var> + 1.
</p>
</dd>
<dt>&lsquo;<samp>E, F, L, M, N</samp>&rsquo;</dt>
<dd><p>Likewise, for lines in the new file.
</p>
</dd>
</dl>

<p>The <code>printf</code> conversion specification can be &lsquo;<samp>%d</samp>&rsquo;,
&lsquo;<samp>%o</samp>&rsquo;, &lsquo;<samp>%x</samp>&rsquo;, or &lsquo;<samp>%X</samp>&rsquo;, specifying decimal, octal,
lower case hexadecimal, or upper case hexadecimal output
respectively.  After the &lsquo;<samp>%</samp>&rsquo; the following options can appear in
sequence: a &lsquo;<samp>-</samp>&rsquo; specifying left-justification; an integer
specifying the minimum field width; and a period followed by an
optional integer specifying the minimum number of digits.
For example, &lsquo;<samp>%5dN</samp>&rsquo; prints the number of new lines in the group
in a field of width 5 characters, using the <code>printf</code> format <code>&quot;%5d&quot;</code>.
</p>
</dd>
<dt>&lsquo;<samp>(<var>A</var>=<var>B</var>?<var>T</var>:<var>E</var>)</samp>&rsquo;</dt>
<dd><p>If <var>A</var> equals <var>B</var> then <var>T</var> else <var>E</var>.
<var>A</var> and <var>B</var> are each either a decimal constant
or a single letter interpreted as above.
This format spec is equivalent to <var>T</var> if
<var>A</var>&rsquo;s value equals <var>B</var>&rsquo;s; otherwise it is equivalent to <var>E</var>.
</p>
<p>For example, &lsquo;<samp>%(N=0?no:%dN) line%(N=1?:s)</samp>&rsquo; is equivalent to
&lsquo;<samp>no lines</samp>&rsquo; if <var>N</var> (the number of lines in the group in the
new file) is 0, to &lsquo;<samp>1 line</samp>&rsquo; if <var>N</var> is 1, and to &lsquo;<samp>%dN lines</samp>&rsquo;
otherwise.
</p></dd>
</dl>

<hr>
<div class="header">
<p>
Next: <a href="Line-formats.html#Line-formats" accesskey="n" rel="next">Line formats</a>, Up: <a href="diff-options.html#diff-options" accesskey="u" rel="up">diff options</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html#Index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
