<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->
<head>
<title>CVS&mdash;Concurrent Versions System v1.11.23: File permissions</title>

<meta name="description" content="CVS&mdash;Concurrent Versions System v1.11.23: File permissions">
<meta name="keywords" content="CVS&mdash;Concurrent Versions System v1.11.23: File permissions">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#Top" rel="start" title="Top">
<link href="Index.html#Index" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Repository-storage.html#Repository-storage" rel="up" title="Repository storage">
<link href="Windows-permissions.html#Windows-permissions" rel="next" title="Windows permissions">
<link href="Repository-files.html#Repository-files" rel="prev" title="Repository files">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.indentedblock {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
div.smalllisp {margin-left: 3.2em}
kbd {font-style:oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nocodebreak {white-space:nowrap}
span.nolinebreak {white-space:nowrap}
span.roman {font-family:serif; font-weight:normal}
span.sansserif {font-family:sans-serif; font-weight:normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">
<a name="File-permissions"></a>
<div class="header">
<p>
Next: <a href="Windows-permissions.html#Windows-permissions" accesskey="n" rel="next">Windows permissions</a>, Previous: <a href="Repository-files.html#Repository-files" accesskey="p" rel="prev">Repository files</a>, Up: <a href="Repository-storage.html#Repository-storage" accesskey="u" rel="up">Repository storage</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html#Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="File-permissions-1"></a>
<h4 class="subsection">2.2.2 File permissions</h4>
<a name="index-Security_002c-file-permissions-in-repository"></a>
<a name="index-File-permissions_002c-general"></a>
<a name="index-Permissions_002c-general"></a>
<a name="index-Group_002c-UNIX-file-permissions_002c-in-repository"></a>
<a name="index-Read_002donly-files_002c-in-repository"></a>
<p>All &lsquo;<samp>,v</samp>&rsquo; files are created read-only, and you
should not change the permission of those files.  The
directories inside the repository should be writable by
the persons that have permission to modify the files in
each directory.  This normally means that you must
create a UNIX group (see group(5)) consisting of the
persons that are to edit the files in a project, and
set up the repository so that it is that group that
owns the directory.
(On some systems, you also need to set the set-group-ID-on-execution bit
on the repository directories (see chmod(1)) so that newly-created files
and directories get the group-ID of the parent directory rather than
that of the current process.)
</p>

<p>This means that you can only control access to files on
a per-directory basis.
</p>
<p>Note that users must also have write access to check
out files, because <small>CVS</small> needs to create lock files
(see <a href="Concurrency.html#Concurrency">Concurrency</a>).  You can use LockDir in CVSROOT/config
to put the lock files somewhere other than in the repository
if you want to allow read-only access to some directories
(see <a href="config.html#config">config</a>).
</p>
<a name="index-CVSROOT_002fval_002dtags-file_002c-and-read_002donly-access-to-projects"></a>
<a name="index-val_002dtags-file_002c-and-read_002donly-access-to-projects"></a>
<p>Also note that users must have write access to the
<samp>CVSROOT/val-tags</samp> file.  <small>CVS</small> uses it to keep
track of what tags are valid tag names (it is sometimes
updated when tags are used, as well as when they are
created).
</p>
<p>Each <small>RCS</small> file will be owned by the user who last
checked it in.  This has little significance; what
really matters is who owns the directories.
</p>
<a name="index-CVSUMASK_002c-environment-variable"></a>
<a name="index-Umask_002c-for-repository-files"></a>
<p><small>CVS</small> tries to set up reasonable file permissions
for new directories that are added inside the tree, but
you must fix the permissions manually when a new
directory should have different permissions than its
parent directory.  If you set the <code>CVSUMASK</code>
environment variable, that will control the file
permissions which <small>CVS</small> uses in creating directories
and/or files in the repository.  <code>CVSUMASK</code> does
not affect the file permissions in the working
directory; such files have the permissions which are
typical for newly created files, except that sometimes
<small>CVS</small> creates them read-only (see the sections on
watches, <a href="Setting-a-watch.html#Setting-a-watch">Setting a watch</a>; -r, <a href="Global-options.html#Global-options">Global options</a>; or <code>CVSREAD</code>, <a href="Environment-variables.html#Environment-variables">Environment variables</a>).
</p>
<p>Note that using the client/server <small>CVS</small>
(see <a href="Remote-repositories.html#Remote-repositories">Remote repositories</a>), there is no good way to
set <code>CVSUMASK</code>; the setting on the client machine
has no effect.  If you are connecting with <code>rsh</code>, you
can set <code>CVSUMASK</code> in <samp>.bashrc</samp> or <samp>.cshrc</samp>, as
described in the documentation for your operating
system.  This behavior might change in future versions
of <small>CVS</small>; do not rely on the setting of
<code>CVSUMASK</code> on the client having no effect.
</p>
<p>Using pserver, you will generally need stricter
permissions on the <small>CVSROOT</small> directory and
directories above it in the tree; see <a href="Password-authentication-security.html#Password-authentication-security">Password authentication security</a>.
</p>
<a name="index-Setuid"></a>
<a name="index-Setgid"></a>
<a name="index-Security_002c-setuid"></a>
<a name="index-Installed-images-_0028VMS_0029"></a>
<p>Some operating systems have features which allow a
particular program to run with the ability to perform
operations which the caller of the program could not.
For example, the set user ID (setuid) or set group ID
(setgid) features of unix or the installed image
feature of VMS.  <small>CVS</small> was not written to use such
features and therefore attempting to install <small>CVS</small> in
this fashion will provide protection against only
accidental lapses; anyone who is trying to circumvent
the measure will be able to do so, and depending on how
you have set it up may gain access to more than just
<small>CVS</small>.  You may wish to instead consider pserver.  It
shares some of the same attributes, in terms of
possibly providing a false sense of security or opening
security holes wider than the ones you are trying to
fix, so read the documentation on pserver security
carefully if you are considering this option
(<a href="Password-authentication-security.html#Password-authentication-security">Password authentication security</a>).
</p>
<hr>
<div class="header">
<p>
Next: <a href="Windows-permissions.html#Windows-permissions" accesskey="n" rel="next">Windows permissions</a>, Previous: <a href="Repository-files.html#Repository-files" accesskey="p" rel="prev">Repository files</a>, Up: <a href="Repository-storage.html#Repository-storage" accesskey="u" rel="up">Repository storage</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html#Index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
