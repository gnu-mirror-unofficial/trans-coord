<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->
<head>
<title>CVS&mdash;Concurrent Versions System v1.11.23: Merging more than once</title>

<meta name="description" content="CVS&mdash;Concurrent Versions System v1.11.23: Merging more than once">
<meta name="keywords" content="CVS&mdash;Concurrent Versions System v1.11.23: Merging more than once">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#Top" rel="start" title="Top">
<link href="Index.html#Index" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Branching-and-merging.html#Branching-and-merging" rel="up" title="Branching and merging">
<link href="Merging-two-revisions.html#Merging-two-revisions" rel="next" title="Merging two revisions">
<link href="Merging-a-branch.html#Merging-a-branch" rel="prev" title="Merging a branch">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.indentedblock {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
div.smalllisp {margin-left: 3.2em}
kbd {font-style:oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nocodebreak {white-space:nowrap}
span.nolinebreak {white-space:nowrap}
span.roman {font-family:serif; font-weight:normal}
span.sansserif {font-family:sans-serif; font-weight:normal}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="/software/gnulib/manual.css">


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">
<a name="Merging-more-than-once"></a>
<div class="header">
<p>
Next: <a href="Merging-two-revisions.html#Merging-two-revisions" accesskey="n" rel="next">Merging two revisions</a>, Previous: <a href="Merging-a-branch.html#Merging-a-branch" accesskey="p" rel="prev">Merging a branch</a>, Up: <a href="Branching-and-merging.html#Branching-and-merging" accesskey="u" rel="up">Branching and merging</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html#Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="Merging-from-a-branch-several-times"></a>
<h3 class="section">5.7 Merging from a branch several times</h3>

<p>Continuing our example, the revision tree now looks
like this:
</p>
<div class="example">
<pre class="example">+-----+    +-----+    +-----+    +-----+    +-----+
! 1.1 !----! 1.2 !----! 1.3 !----! 1.4 !----! 1.5 !   &lt;- The main trunk
+-----+    +-----+    +-----+    +-----+    +-----+
                !                           *
                !                          *
                !   +---------+    +---------+
Branch R1fix -&gt; +---! 1.2.2.1 !----! 1.2.2.2 !
                    +---------+    +---------+
</pre></div>

<p>where the starred line represents the merge from the
&lsquo;<samp>R1fix</samp>&rsquo; branch to the main trunk, as just
discussed.
</p>
<p>Now suppose that development continues on the
&lsquo;<samp>R1fix</samp>&rsquo; branch:
</p>
<div class="example">
<pre class="example">+-----+    +-----+    +-----+    +-----+    +-----+
! 1.1 !----! 1.2 !----! 1.3 !----! 1.4 !----! 1.5 !   &lt;- The main trunk
+-----+    +-----+    +-----+    +-----+    +-----+
                !                           *
                !                          *
                !   +---------+    +---------+    +---------+
Branch R1fix -&gt; +---! 1.2.2.1 !----! 1.2.2.2 !----! 1.2.2.3 !
                    +---------+    +---------+    +---------+
</pre></div>

<p>and then you want to merge those new changes onto the
main trunk.  If you just use the <code>cvs update -j
R1fix m.c</code> command again, <small>CVS</small> will attempt to
merge again the changes which you have already merged,
which can have undesirable side effects.
</p>
<p>So instead you need to specify that you only want to
merge the changes on the branch which have not yet been
merged into the trunk.  To do that you specify two
&lsquo;<samp>-j</samp>&rsquo; options, and <small>CVS</small> merges the changes from
the first revision to the second revision.  For
example, in this case the simplest way would be
</p>
<div class="example">
<pre class="example">cvs update -j 1.2.2.2 -j R1fix m.c    # <span class="roman">Merge changes from 1.2.2.2 to the</span>
                                      # <span class="roman">head of the R1fix branch</span>
</pre></div>

<p>The problem with this is that you need to specify the
1.2.2.2 revision manually.  A slightly better approach
might be to use the date the last merge was done:
</p>
<div class="example">
<pre class="example">cvs update -j R1fix:yesterday -j R1fix m.c
</pre></div>

<p>Better yet, tag the R1fix branch after every merge into
the trunk, and then use that tag for subsequent merges:
</p>
<div class="example">
<pre class="example">cvs update -j merged_from_R1fix_to_trunk -j R1fix m.c
</pre></div>

<hr>
<div class="header">
<p>
Next: <a href="Merging-two-revisions.html#Merging-two-revisions" accesskey="n" rel="next">Merging two revisions</a>, Previous: <a href="Merging-a-branch.html#Merging-a-branch" accesskey="p" rel="prev">Merging a branch</a>, Up: <a href="Branching-and-merging.html#Branching-and-merging" accesskey="u" rel="up">Branching and merging</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html#Index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
