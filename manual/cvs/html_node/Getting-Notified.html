<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->
<head>
<title>CVS&mdash;Concurrent Versions System v1.11.23: Getting Notified</title>

<meta name="description" content="CVS&mdash;Concurrent Versions System v1.11.23: Getting Notified">
<meta name="keywords" content="CVS&mdash;Concurrent Versions System v1.11.23: Getting Notified">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#Top" rel="start" title="Top">
<link href="Index.html#Index" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Watches.html#Watches" rel="up" title="Watches">
<link href="Editing-files.html#Editing-files" rel="next" title="Editing files">
<link href="Setting-a-watch.html#Setting-a-watch" rel="prev" title="Setting a watch">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.indentedblock {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
div.smalllisp {margin-left: 3.2em}
kbd {font-style:oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nocodebreak {white-space:nowrap}
span.nolinebreak {white-space:nowrap}
span.roman {font-family:serif; font-weight:normal}
span.sansserif {font-family:sans-serif; font-weight:normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">
<a name="Getting-Notified"></a>
<div class="header">
<p>
Next: <a href="Editing-files.html#Editing-files" accesskey="n" rel="next">Editing files</a>, Previous: <a href="Setting-a-watch.html#Setting-a-watch" accesskey="p" rel="prev">Setting a watch</a>, Up: <a href="Watches.html#Watches" accesskey="u" rel="up">Watches</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html#Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="Telling-CVS-to-notify-you"></a>
<h4 class="subsection">10.6.2 Telling CVS to notify you</h4>

<p>You can tell <small>CVS</small> that you want to receive
notifications about various actions taken on a file.
You can do this without using <code>cvs watch on</code> for
the file, but generally you will want to use <code>cvs
watch on</code>, to remind developers to use the <code>cvs edit</code>
command.
</p>
<a name="index-watch-add-_0028subcommand_0029"></a>
<dl>
<dt><a name="index-cvs-watch-add"></a>Command: <strong>cvs watch add</strong> <em>[<code>-lR</code>] [<code>-a</code> <var>action</var>]&hellip; [<var>files</var>]&hellip;</em></dt>
<dd>
<p>Add the current user to the list of people to receive notification of
work done on <var>files</var>.
</p>
<p>The <code>-a</code> option specifies what kinds of events <small>CVS</small> should notify
the user about.  <var>action</var> is one of the following:
</p>
<dl compact="compact">
<dt><code>edit</code></dt>
<dd><p>Another user has applied the <code>cvs edit</code> command (described
below) to a watched file.
</p>
</dd>
<dt><code>commit</code></dt>
<dd><p>Another user has committed changes to one of the named <var>files</var>.
</p>
</dd>
<dt><code>unedit</code></dt>
<dd><p>Another user has abandoned editing a file (other than by committing changes).
They can do this in several ways, by:
</p>
<ul>
<li> applying the <code>cvs unedit</code> command (described below) to the file

</li><li> applying the <code>cvs release</code> command (see <a href="release.html#release">release</a>) to the file&rsquo;s parent directory
(or recursively to a directory more than one level up)

</li><li> deleting the file and allowing <code>cvs update</code> to recreate it

</li></ul>

</dd>
<dt><code>all</code></dt>
<dd><p>All of the above.
</p>
</dd>
<dt><code>none</code></dt>
<dd><p>None of the above.  (This is useful with <code>cvs edit</code>,
described below.)
</p>
</dd>
</dl>

<p>The <code>-a</code> option may appear more than once, or not at all.  If
omitted, the action defaults to <code>all</code>.
</p>
<p>The <var>files</var> and options are processed as for
<code>cvs watch on</code>.
</p>
</dd></dl>


<a name="index-watch-remove-_0028subcommand_0029"></a>
<dl>
<dt><a name="index-cvs-watch-remove"></a>Command: <strong>cvs watch remove</strong> <em>[<code>-lR</code>] [<code>-a</code> <var>action</var>]&hellip; [<var>files</var>]&hellip;</em></dt>
<dd>
<p>Remove a notification request established using <code>cvs watch add</code>;
the arguments are the same.  If the <code>-a</code> option is present, only
watches for the specified actions are removed.
</p>
</dd></dl>

<a name="index-notify-_0028admin-file_0029"></a>
<p>When the conditions exist for notification, <small>CVS</small>
calls the <samp>notify</samp> administrative file.  Edit
<samp>notify</samp> as one edits the other administrative
files (see <a href="Intro-administrative-files.html#Intro-administrative-files">Intro administrative files</a>).  This
file follows the usual conventions for administrative
files (see <a href="syntax.html#syntax">syntax</a>), where each line is a regular
expression followed by a command to execute.  The
command should contain a single occurrence of &lsquo;<samp>%s</samp>&rsquo;
which will be replaced by the user to notify; the rest
of the information regarding the notification will be
supplied to the command on standard input.  The
standard thing to put in the <code>notify</code> file is the
single line:
</p>
<div class="example">
<pre class="example">ALL mail %s -s &quot;CVS notification&quot;
</pre></div>

<p>This causes users to be notified by electronic mail.
</p>
<a name="index-users-_0028admin-file_0029"></a>
<p>Note that if you set this up in the straightforward
way, users receive notifications on the server machine.
One could of course write a <samp>notify</samp> script which
directed notifications elsewhere, but to make this
easy, <small>CVS</small> allows you to associate a notification
address for each user.  To do so create a file
<samp>users</samp> in <samp>CVSROOT</samp> with a line for each
user in the format <var>user</var>:<var>value</var>.  Then
instead of passing the name of the user to be notified
to <samp>notify</samp>, <small>CVS</small> will pass the <var>value</var>
(normally an email address on some other machine).
</p>
<p><small>CVS</small> does not notify you for your own changes.
Currently this check is done based on whether the user
name of the person taking the action which triggers
notification matches the user name of the person
getting notification.  In fact, in general, the watches
features only track one edit by each user.  It probably
would be more useful if watches tracked each working
directory separately, so this behavior might be worth
changing.
</p>
<hr>
<div class="header">
<p>
Next: <a href="Editing-files.html#Editing-files" accesskey="n" rel="next">Editing files</a>, Previous: <a href="Setting-a-watch.html#Setting-a-watch" accesskey="p" rel="prev">Setting a watch</a>, Up: <a href="Watches.html#Watches" accesskey="u" rel="up">Watches</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html#Index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
