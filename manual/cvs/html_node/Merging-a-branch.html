<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->
<head>
<title>CVS&mdash;Concurrent Versions System v1.11.23: Merging a branch</title>

<meta name="description" content="CVS&mdash;Concurrent Versions System v1.11.23: Merging a branch">
<meta name="keywords" content="CVS&mdash;Concurrent Versions System v1.11.23: Merging a branch">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#Top" rel="start" title="Top">
<link href="Index.html#Index" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Branching-and-merging.html#Branching-and-merging" rel="up" title="Branching and merging">
<link href="Merging-more-than-once.html#Merging-more-than-once" rel="next" title="Merging more than once">
<link href="Magic-branch-numbers.html#Magic-branch-numbers" rel="prev" title="Magic branch numbers">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.indentedblock {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
div.smalllisp {margin-left: 3.2em}
kbd {font-style:oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nocodebreak {white-space:nowrap}
span.nolinebreak {white-space:nowrap}
span.roman {font-family:serif; font-weight:normal}
span.sansserif {font-family:sans-serif; font-weight:normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">
<a name="Merging-a-branch"></a>
<div class="header">
<p>
Next: <a href="Merging-more-than-once.html#Merging-more-than-once" accesskey="n" rel="next">Merging more than once</a>, Previous: <a href="Magic-branch-numbers.html#Magic-branch-numbers" accesskey="p" rel="prev">Magic branch numbers</a>, Up: <a href="Branching-and-merging.html#Branching-and-merging" accesskey="u" rel="up">Branching and merging</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html#Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="Merging-an-entire-branch"></a>
<h3 class="section">5.6 Merging an entire branch</h3>
<a name="index-Merging-a-branch"></a>
<a name="index-_002dj-_0028merging-branches_0029"></a>

<p>You can merge changes made on a branch into your working copy by giving
the &lsquo;<samp>-j <var>branchname</var></samp>&rsquo; flag to the <code>update</code> subcommand.  With one
&lsquo;<samp>-j <var>branchname</var></samp>&rsquo; option it merges the changes made between the
greatest common ancestor (GCA) of the branch and the destination revision (in
the simple case below the GCA is the point where the branch forked) and the
newest revision on that branch into your working copy.
</p>
<a name="index-Join"></a>
<p>The &lsquo;<samp>-j</samp>&rsquo; stands for &ldquo;join&rdquo;.
</p>
<a name="index-Branch-merge-example"></a>
<a name="index-Example_002c-branch-merge"></a>
<a name="index-Merge_002c-branch-example"></a>
<p>Consider this revision tree:
</p>
<div class="example">
<pre class="example">+-----+    +-----+    +-----+    +-----+
! 1.1 !----! 1.2 !----! 1.3 !----! 1.4 !      &lt;- The main trunk
+-----+    +-----+    +-----+    +-----+
                !
                !
                !   +---------+    +---------+
Branch R1fix -&gt; +---! 1.2.2.1 !----! 1.2.2.2 !
                    +---------+    +---------+
</pre></div>

<p>The branch 1.2.2 has been given the tag (symbolic name) &lsquo;<samp>R1fix</samp>&rsquo;.  The
following example assumes that the module &lsquo;<samp>mod</samp>&rsquo; contains only one
file, <samp>m.c</samp>.
</p>
<div class="example">
<pre class="example">$ cvs checkout mod               # <span class="roman">Retrieve the latest revision, 1.4</span>

$ cvs update -j R1fix m.c        # <span class="roman">Merge all changes made on the branch,</span>
                                 # <span class="roman">i.e. the changes between revision 1.2</span>
                                 # <span class="roman">and 1.2.2.2, into your working copy</span>
                                 # <span class="roman">of the file.</span>

$ cvs commit -m &quot;Included R1fix&quot; # <span class="roman">Create revision 1.5.</span>
</pre></div>

<p>A conflict can result from a merge operation.  If that
happens, you should resolve it before committing the
new revision.  See <a href="Conflicts-example.html#Conflicts-example">Conflicts example</a>.
</p>
<p>If your source files contain keywords (see <a href="Keyword-substitution.html#Keyword-substitution">Keyword substitution</a>),
you might be getting more conflicts than strictly necessary.  See
<a href="Merging-and-keywords.html#Merging-and-keywords">Merging and keywords</a>, for information on how to avoid this.
</p>
<p>The <code>checkout</code> command also supports the &lsquo;<samp>-j <var>branchname</var></samp>&rsquo; flag.  The
same effect as above could be achieved with this:
</p>
<div class="example">
<pre class="example">$ cvs checkout -j R1fix mod
$ cvs commit -m &quot;Included R1fix&quot;
</pre></div>

<p>It should be noted that <code>update -j <var>tagname</var></code> will also work but may
not produce the desired result.  See <a href="Merging-adds-and-removals.html#Merging-adds-and-removals">Merging adds and removals</a>, for more.
</p>
<hr>
<div class="header">
<p>
Next: <a href="Merging-more-than-once.html#Merging-more-than-once" accesskey="n" rel="next">Merging more than once</a>, Previous: <a href="Magic-branch-numbers.html#Magic-branch-numbers" accesskey="p" rel="prev">Magic branch numbers</a>, Up: <a href="Branching-and-merging.html#Branching-and-merging" accesskey="u" rel="up">Branching and merging</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html#Index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
