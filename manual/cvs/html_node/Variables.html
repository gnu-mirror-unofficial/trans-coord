<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->
<head>
<title>CVS&mdash;Concurrent Versions System v1.11.23: Variables</title>

<meta name="description" content="CVS&mdash;Concurrent Versions System v1.11.23: Variables">
<meta name="keywords" content="CVS&mdash;Concurrent Versions System v1.11.23: Variables">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#Top" rel="start" title="Top">
<link href="Index.html#Index" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Administrative-files.html#Administrative-files" rel="up" title="Administrative files">
<link href="config.html#config" rel="next" title="config">
<link href="history-file.html#history-file" rel="prev" title="history file">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.indentedblock {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
div.smalllisp {margin-left: 3.2em}
kbd {font-style:oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nocodebreak {white-space:nowrap}
span.nolinebreak {white-space:nowrap}
span.roman {font-family:serif; font-weight:normal}
span.sansserif {font-family:sans-serif; font-weight:normal}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="/software/gnulib/manual.css">


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">
<a name="Variables"></a>
<div class="header">
<p>
Next: <a href="config.html#config" accesskey="n" rel="next">config</a>, Previous: <a href="history-file.html#history-file" accesskey="p" rel="prev">history file</a>, Up: <a href="Administrative-files.html#Administrative-files" accesskey="u" rel="up">Administrative files</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html#Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="Expansions-in-administrative-files"></a>
<h3 class="appendixsec">C.10 Expansions in administrative files</h3>
<a name="index-Internal-variables"></a>
<a name="index-Variables"></a>

<p>Sometimes in writing an administrative file, you might
want the file to be able to know various things based
on environment <small>CVS</small> is running in.  There are
several mechanisms to do that.
</p>
<p>To find the home directory of the user running <small>CVS</small>
(from the <code>HOME</code> environment variable), use
&lsquo;<samp>~</samp>&rsquo; followed by &lsquo;<samp>/</samp>&rsquo; or the end of the line.
Likewise for the home directory of <var>user</var>, use
&lsquo;<samp>~<var>user</var></samp>&rsquo;.  These variables are expanded on
the server machine, and don&rsquo;t get any reasonable
expansion if pserver (see <a href="Password-authenticated.html#Password-authenticated">Password authenticated</a>)
is in use; therefore user variables (see below) may be
a better choice to customize behavior based on the user
running <small>CVS</small>.
</p>
<p>One may want to know about various pieces of
information internal to <small>CVS</small>.  A <small>CVS</small> internal
variable has the syntax <code>${<var>variable</var>}</code>,
where <var>variable</var> starts with a letter and consists
of alphanumeric characters and &lsquo;<samp>_</samp>&rsquo;.  If the
character following <var>variable</var> is a
non-alphanumeric character other than &lsquo;<samp>_</samp>&rsquo;, the
&lsquo;<samp>{</samp>&rsquo; and &lsquo;<samp>}</samp>&rsquo; can be omitted.  The <small>CVS</small>
internal variables are:
</p>
<dl compact="compact">
<dt><code>CVSROOT</code></dt>
<dd><a name="index-CVSROOT_002c-internal-variable"></a>
<p>This is the absolute path to the current <small>CVS</small> root directory.
See <a href="Repository.html#Repository">Repository</a>, for a description of the various
ways to specify this, but note that the internal
variable contains just the directory and not any
of the access method information.
</p>
</dd>
<dt><code>RCSBIN</code></dt>
<dd><a name="index-RCSBIN_002c-internal-variable"></a>
<p>In <small>CVS</small> 1.9.18 and older, this specified the
directory where <small>CVS</small> was looking for <small>RCS</small>
programs.  Because <small>CVS</small> no longer runs <small>RCS</small>
programs, specifying this internal variable is now an
error.
</p>
</dd>
<dt><code>CVSEDITOR</code></dt>
<dd><a name="index-CVSEDITOR_002c-internal-variable"></a>
</dd>
<dt><code>EDITOR</code></dt>
<dd><a name="index-EDITOR_002c-internal-variable"></a>
</dd>
<dt><code>VISUAL</code></dt>
<dd><a name="index-VISUAL_002c-internal-variable"></a>
<p>These all expand to the same value, which is the editor
that <small>CVS</small> is using.  See <a href="Global-options.html#Global-options">Global options</a>, for how
to specify this.
</p>
</dd>
<dt><code>USER</code></dt>
<dd><a name="index-USER_002c-internal-variable"></a>
<p>Username of the user running <small>CVS</small> (on the <small>CVS</small>
server machine).
When using pserver, this is the user specified in the repository
specification which need not be the same as the username the
server is running as (see <a href="Password-authentication-server.html#Password-authentication-server">Password authentication server</a>).
Do not confuse this with the environment variable of the same name.
</p></dd>
</dl>

<p>If you want to pass a value to the administrative files
which the user who is running <small>CVS</small> can specify,
use a user variable.
<a name="index-User-variables"></a>
To expand a user variable, the
administrative file contains
<code>${=<var>variable</var>}</code>.  To set a user variable,
specify the global option &lsquo;<samp>-s</samp>&rsquo; to <small>CVS</small>, with
argument <code><var>variable</var>=<var>value</var></code>.  It may be
particularly useful to specify this option via
<samp>.cvsrc</samp> (see <a href="_007e_002f_002ecvsrc.html#g_t_007e_002f_002ecvsrc">~/.cvsrc</a>).
</p>
<p>For example, if you want the administrative file to
refer to a test directory you might create a user
variable <code>TESTDIR</code>.  Then if <small>CVS</small> is invoked
as
</p>
<div class="example">
<pre class="example">cvs -s TESTDIR=/work/local/tests
</pre></div>

<p>and the
administrative file contains <code>sh
${=TESTDIR}/runtests</code>, then that string is expanded
to <code>sh /work/local/tests/runtests</code>.
</p>
<p>All other strings containing &lsquo;<samp>$</samp>&rsquo; are reserved;
there is no way to quote a &lsquo;<samp>$</samp>&rsquo; character so that
&lsquo;<samp>$</samp>&rsquo; represents itself.
</p>
<p>Environment variables passed to administrative files are:
</p>
<dl compact="compact">
<dd><a name="index-environment-variables_002c-passed-to-administrative-files"></a>

</dd>
<dt><code>CVS_USER</code></dt>
<dd><a name="index-CVS_005fUSER_002c-environment-variable"></a>
<p>The <small>CVS</small>-specific username provided by the user, if it
can be provided (currently just for the pserver access
method), and to the empty string otherwise.  (<code>CVS_USER</code>
and <code>USER</code> may differ when <samp>$CVSROOT/CVSROOT/passwd</samp>
is used to map <small>CVS</small> usernames to system usernames.)
</p>
</dd>
<dt><code>LOGNAME</code></dt>
<dd><a name="index-LOGNAME_002c-environment-variable"></a>
<p>The username of the system user.
</p>
</dd>
<dt><code>USER</code></dt>
<dd><a name="index-USER_002c-environment-variable"></a>
<p>Same as <code>LOGNAME</code>.
Do not confuse this with the internal variable of the same name.
</p></dd>
</dl>

<hr>
<div class="header">
<p>
Next: <a href="config.html#config" accesskey="n" rel="next">config</a>, Previous: <a href="history-file.html#history-file" accesskey="p" rel="prev">history file</a>, Up: <a href="Administrative-files.html#Administrative-files" accesskey="u" rel="up">Administrative files</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html#Index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
