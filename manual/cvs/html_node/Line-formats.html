<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->
<head>
<title>CVS&mdash;Concurrent Versions System v1.11.23: Line formats</title>

<meta name="description" content="CVS&mdash;Concurrent Versions System v1.11.23: Line formats">
<meta name="keywords" content="CVS&mdash;Concurrent Versions System v1.11.23: Line formats">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#Top" rel="start" title="Top">
<link href="Index.html#Index" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="diff-options.html#diff-options" rel="up" title="diff options">
<link href="diff-examples.html#diff-examples" rel="next" title="diff examples">
<link href="Line-group-formats.html#Line-group-formats" rel="prev" title="Line group formats">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.indentedblock {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
div.smalllisp {margin-left: 3.2em}
kbd {font-style:oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nocodebreak {white-space:nowrap}
span.nolinebreak {white-space:nowrap}
span.roman {font-family:serif; font-weight:normal}
span.sansserif {font-family:sans-serif; font-weight:normal}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="/software/gnulib/manual.css">


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">
<a name="Line-formats"></a>
<div class="header">
<p>
Previous: <a href="Line-group-formats.html#Line-group-formats" accesskey="p" rel="prev">Line group formats</a>, Up: <a href="diff-options.html#diff-options" accesskey="u" rel="up">diff options</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html#Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="Line-formats-1"></a>
<h4 class="appendixsubsubsec">A.11.1.2 Line formats</h4>

<p>Line formats control how each line taken from an input file is
output as part of a line group in if-then-else format.
</p>
<p>For example, the following command outputs text with a one-column
change indicator to the left of the text.  The first column of output
is &lsquo;<samp>-</samp>&rsquo; for deleted lines, &lsquo;<samp>|</samp>&rsquo; for added lines, and a space
for unchanged lines.  The formats contain newline characters where
newlines are desired on output.
</p>
<div class="example">
<pre class="example">cvs diff \
   --old-line-format='-%l
' \
   --new-line-format='|%l
' \
   --unchanged-line-format=' %l
' \
   myfile
</pre></div>

<p>To specify a line format, use one of the following options.  You should
quote <var>format</var>, since it often contains shell metacharacters.
</p>
<dl compact="compact">
<dt>&lsquo;<samp>--old-line-format=<var>format</var></samp>&rsquo;</dt>
<dd><p>formats lines just from the first file.
</p>
</dd>
<dt>&lsquo;<samp>--new-line-format=<var>format</var></samp>&rsquo;</dt>
<dd><p>formats lines just from the second file.
</p>
</dd>
<dt>&lsquo;<samp>--unchanged-line-format=<var>format</var></samp>&rsquo;</dt>
<dd><p>formats lines common to both files.
</p>
</dd>
<dt>&lsquo;<samp>--line-format=<var>format</var></samp>&rsquo;</dt>
<dd><p>formats all lines; in effect, it sets all three above options simultaneously.
</p></dd>
</dl>

<p>In a line format, ordinary characters represent themselves;
conversion specifications start with &lsquo;<samp>%</samp>&rsquo; and have one of the
following forms.
</p>
<dl compact="compact">
<dt>&lsquo;<samp>%l</samp>&rsquo;</dt>
<dd><p>stands for the contents of the line, not counting its trailing
newline (if any).  This format ignores whether the line is incomplete.
</p>
</dd>
<dt>&lsquo;<samp>%L</samp>&rsquo;</dt>
<dd><p>stands for the contents of the line, including its trailing newline
(if any).  If a line is incomplete, this format preserves its
incompleteness.
</p>
</dd>
<dt>&lsquo;<samp>%%</samp>&rsquo;</dt>
<dd><p>stands for &lsquo;<samp>%</samp>&rsquo;.
</p>
</dd>
<dt>&lsquo;<samp>%c'<var>C</var>'</samp>&rsquo;</dt>
<dd><p>where <var>C</var> is a single character, stands for <var>C</var>.
<var>C</var> may not be a backslash or an apostrophe.
For example, &lsquo;<samp>%c':'</samp>&rsquo; stands for a colon.
</p>
</dd>
<dt>&lsquo;<samp>%c'\<var>O</var>'</samp>&rsquo;</dt>
<dd><p>where <var>O</var> is a string of 1, 2, or 3 octal digits,
stands for the character with octal code <var>O</var>.
For example, &lsquo;<samp>%c'\0'</samp>&rsquo; stands for a null character.
</p>
</dd>
<dt>&lsquo;<samp><var>F</var>n</samp>&rsquo;</dt>
<dd><p>where <var>F</var> is a <code>printf</code> conversion specification,
stands for the line number formatted with <var>F</var>.
For example, &lsquo;<samp>%.5dn</samp>&rsquo; prints the line number using the
<code>printf</code> format <code>&quot;%.5d&quot;</code>.  See <a href="Line-group-formats.html#Line-group-formats">Line group formats</a>, for
more about printf conversion specifications.
</p>
</dd>
</dl>

<p>The default line format is &lsquo;<samp>%l</samp>&rsquo; followed by a newline character.
</p>
<p>If the input contains tab characters and it is important that they line
up on output, you should ensure that &lsquo;<samp>%l</samp>&rsquo; or &lsquo;<samp>%L</samp>&rsquo; in a line
format is just after a tab stop (e.g. by preceding &lsquo;<samp>%l</samp>&rsquo; or
&lsquo;<samp>%L</samp>&rsquo; with a tab character), or you should use the &lsquo;<samp>-t</samp>&rsquo; or
&lsquo;<samp>--expand-tabs</samp>&rsquo; option.
</p>
<p>Taken together, the line and line group formats let you specify many
different formats.  For example, the following command uses a format
similar to <code>diff</code>&rsquo;s normal format.  You can tailor this command
to get fine control over <code>diff</code>&rsquo;s output.
</p>
<div class="example">
<pre class="example">cvs diff \
   --old-line-format='&lt; %l
' \
   --new-line-format='&gt; %l
' \
   --old-group-format='%df%(f=l?:,%dl)d%dE
%&lt;' \
   --new-group-format='%dea%dF%(F=L?:,%dL)
%&gt;' \
   --changed-group-format='%df%(f=l?:,%dl)c%dF%(F=L?:,%dL)
%&lt;---
%&gt;' \
   --unchanged-group-format='' \
   myfile
</pre></div>

<hr>
<div class="header">
<p>
Previous: <a href="Line-group-formats.html#Line-group-formats" accesskey="p" rel="prev">Line group formats</a>, Up: <a href="diff-options.html#diff-options" accesskey="u" rel="up">diff options</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html#Index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
