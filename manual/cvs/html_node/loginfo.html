<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->
<head>
<title>CVS&mdash;Concurrent Versions System v1.11.23: loginfo</title>

<meta name="description" content="CVS&mdash;Concurrent Versions System v1.11.23: loginfo">
<meta name="keywords" content="CVS&mdash;Concurrent Versions System v1.11.23: loginfo">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#Top" rel="start" title="Top">
<link href="Index.html#Index" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="commit-files.html#commit-files" rel="up" title="commit files">
<link href="loginfo-example.html#loginfo-example" rel="next" title="loginfo example">
<link href="editinfo-example.html#editinfo-example" rel="prev" title="editinfo example">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.indentedblock {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
div.smalllisp {margin-left: 3.2em}
kbd {font-style:oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nocodebreak {white-space:nowrap}
span.nolinebreak {white-space:nowrap}
span.roman {font-family:serif; font-weight:normal}
span.sansserif {font-family:sans-serif; font-weight:normal}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="/software/gnulib/manual.css">


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">
<a name="loginfo"></a>
<div class="header">
<p>
Previous: <a href="editinfo.html#editinfo" accesskey="p" rel="prev">editinfo</a>, Up: <a href="commit-files.html#commit-files" accesskey="u" rel="up">commit files</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html#Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="Loginfo"></a>
<h4 class="appendixsubsec">C.4.4 Loginfo</h4>
<a name="index-loginfo-_0028admin-file_0029"></a>
<a name="index-Storing-log-messages"></a>
<a name="index-Mailing-log-messages"></a>
<a name="index-Distributing-log-messages"></a>
<a name="index-Log-messages"></a>

<p>The <samp>loginfo</samp> file is used to control where
&lsquo;<samp>cvs commit</samp>&rsquo; log information is sent.  The first
entry on a line is a regular expression which is tested
against the directory that the change is being made to,
relative to the <code>$CVSROOT</code>.  If a match is found, then
the remainder of the line is a filter program that
should expect log information on its standard input.
Note that the filter program <strong>must</strong> read <strong>all</strong>
of the log information or <small>CVS</small> may fail with a broken pipe signal.
</p>
<p>If the repository name does not match any of the
regular expressions in this file, the &lsquo;<samp>DEFAULT</samp>&rsquo;
line is used, if it is specified.
</p>
<p>All occurrences of the name &lsquo;<samp>ALL</samp>&rsquo; appearing as a
regular expression are used in addition to the first
matching regular expression or &lsquo;<samp>DEFAULT</samp>&rsquo;.
</p>
<p>The first matching regular expression is used.
</p>
<p>See <a href="commit-files.html#commit-files">commit files</a>, for a description of the syntax of
the <samp>loginfo</samp> file.
</p>
<p>The user may specify a format string as
part of the filter.  The string is composed of a
&lsquo;<samp>%</samp>&rsquo; followed by a space, or followed by a single
format character, or followed by a set of format
characters surrounded by &lsquo;<samp>{</samp>&rsquo; and &lsquo;<samp>}</samp>&rsquo; as
separators.  The format characters are:
</p>
<dl compact="compact">
<dt><tt>s</tt></dt>
<dd><p>file name
</p></dd>
<dt><tt>V</tt></dt>
<dd><p>old version number (pre-checkin)
</p></dd>
<dt><tt>v</tt></dt>
<dd><p>new version number (post-checkin)
</p></dd>
</dl>

<p>All other characters that appear in a format string
expand to an empty field (commas separating fields are
still provided).
</p>
<p>For example, some valid format strings are &lsquo;<samp>%</samp>&rsquo;,
&lsquo;<samp>%s</samp>&rsquo;, &lsquo;<samp>%{s}</samp>&rsquo;, and &lsquo;<samp>%{sVv}</samp>&rsquo;.
</p>
<p>The output will be a space separated string of tokens enclosed in
quotation marks (<tt>&quot;</tt>).
Any embedded dollar signs (<tt>$</tt>), backticks (<tt>`</tt>),
backslashes (<tt>\</tt>), or quotation marks will be preceded
by a backslash (this allows the shell to correctly parse it
as a single string, reguardless of the characters it contains).
For backwards compatibility, the first
token will be the repository subdirectory.  The rest of the
tokens will be comma-delimited lists of the information
requested in the format string.  For example, if
&lsquo;<samp>/u/src/master/yoyodyne/tc</samp>&rsquo; is the repository, &lsquo;<samp>%{sVv}</samp>&rsquo;
is the format string, and three files (<tt>ChangeLog</tt>,
<tt>Makefile</tt>, <tt>foo.c</tt>) were modified, the output
might be:
</p>
<div class="example">
<pre class="example">&quot;yoyodyne/tc ChangeLog,1.1,1.2 Makefile,1.3,1.4 foo.c,1.12,1.13&quot;
</pre></div>

<p>As another example, &lsquo;<samp>%{}</samp>&rsquo; means that only the
name of the repository will be generated.
</p>
<p>Note: when <small>CVS</small> is accessing a remote repository,
<samp>loginfo</samp> will be run on the <em>remote</em>
(i.e., server) side, not the client side (see <a href="Remote-repositories.html#Remote-repositories">Remote repositories</a>).
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="loginfo-example.html#loginfo-example" accesskey="1">loginfo example</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Loginfo example
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="Keeping-a-checked-out-copy.html#Keeping-a-checked-out-copy" accesskey="2">Keeping a checked out copy</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Updating a tree on every checkin
</td></tr>
</table>

<hr>
<div class="header">
<p>
Previous: <a href="editinfo.html#editinfo" accesskey="p" rel="prev">editinfo</a>, Up: <a href="commit-files.html#commit-files" accesskey="u" rel="up">commit files</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html#Index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
